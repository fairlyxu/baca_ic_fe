{"remainingRequest":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app/src/views/category/index.vue?vue&type=style&index=0&id=f049aeb8&scoped=true&lang=css&","dependencies":[{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app/src/views/category/index.vue","mtime":1639824484500},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app/node_modules/css-loader/dist/cjs.js","mtime":1638964563000},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1638964568000},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app/node_modules/postcss-loader/src/index.js","mtime":1638964568000},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app/node_modules/cache-loader/dist/cjs.js","mtime":1638964486000},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app/node_modules/vue-loader/lib/index.js","mtime":1638964568000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoudG9wX3RpdGxlIHsKICAgIG1heC1oZWlnaHQ6IDNlbTsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICBkaXNwbGF5OiAtd2Via2l0LWJveDsKICAgIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7CiAgICAtd2Via2l0LWxpbmUtY2xhbXA6IDI7Cn0KCi5zdG9yeV90aXRsZSB7CiAgICBmb250LXNpemU6IDFlbSAhaW1wb3J0YW50OwogICAgbWF4LWhlaWdodDogMmVtOwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgIGRpc3BsYXk6IC13ZWJraXQtYm94OwogICAgLXdlYmtpdC1ib3gtb3JpZW50OiB2ZXJ0aWNhbDsKICAgIC13ZWJraXQtbGluZS1jbGFtcDogMTsKfQoKLnN0b3J5X2NvbnRlbnQgewogICAgbWF4LWhlaWdodDogNWVtOwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgIGRpc3BsYXk6IC13ZWJraXQtYm94OwogICAgLXdlYmtpdC1ib3gtb3JpZW50OiB2ZXJ0aWNhbDsKICAgIC13ZWJraXQtbGluZS1jbGFtcDogMzsKCn0KCi5tZXRhIC5kYXRlIGkgewogICAgY29sb3I6ICM3Yzc1Nzc7Cn0KCi5uZXdzX2JvdHRvbiB7CiAgICBtYXJnaW4tdG9wOiAxLjVlbTsKfQoKLm5ld3NfYm90dG9uIGRpdiB7CiAgICBmbG9hdDogcmlnaHQ7CiAgICBtYXJnaW4tcmlnaHQ6IDNlbTsKfQoKCkBtZWRpYSAobWluLXdpZHRoOiA2MDBweCkgewogICAgLm5ld3NfYm90dG9uIGEgewogICAgICAgIGZsb2F0OiBsZWZ0CiAgICB9IAp9IAoKQG1lZGlhIChtYXgtd2lkdGg6IDYwMHB4KSB7fQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2JA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA","file":"index.vue","sourceRoot":"src/views/category","sourcesContent":["<template>\n    <div>\n        <div class=\"top-story-area pd-top-50 pd-bottom-30\">\n            <div class=\"container\">\n                <div class=\"section-title\">\n                    <div class=\"row\">\n                        <div class=\"col-sm-8\">\n                            <h4 class=\"title\">Top Voted Stories</h4>\n                            <span class=\"line\"></span>\n                        </div>\n                        <div class=\"col-sm-4 text-sm-right align-self-center\">\n                            <a class=\"see-all-btn float-sm-end\" href=\"#\">View all</a>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-lg-3 col-md-6\" v-for=\"item in toparticles\">\n                        <div class=\"single-post-wrap\">\n                            <div class=\"thumb\">\n                                <img :src=item.cover_img alt=\"img\">\n                                <a class=\"tag top-right tag-sky top_title\" href=\"#\">{{item.category.title}}</a>\n                            </div>\n                            <div class=\"post-details\">\n                                <div class=\"meta\">\n                                    <div class=\"date\">\n                                        <i class=\"fa fa-clock-o\"></i>\n                                        {{item.created_at}}\n                                    </div>\n                                </div>\n                                <h6 class=\"top_title\"><a :href=\"'#/detail/' + item.id \" target=\"_blank\">{{item.title}}</a></h6>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <!-- news-area Start -->\n        <div class=\"pd-top-50 pd-bottom-30\" id=\"articlesFeed\" v-loading=\"loading\" element-loading-text=\"loading\">\n            <div class=\"container\">\n                <div class=\"row\">\n                    <div class=\"col-lg-8\">\n                        <div class=\"section-title\">\n                            <h4 class=\"title\">Stories</h4>\n                            <span class=\"line\"></span>\n                        </div>\n                        <div class=\"media-post-wrap-2 media\" v-for=\"item in articles\">\n                            <div class=\"thumb\" style=\"width: 20em;align-self: center;justify-content: center;\">\n                                <img :src=item.cover_img alt=\"img\">\n                            </div>\n                            <div class=\"media-body\" style=\"margin-top:2px\">\n                                <div class=\"meta d-block mt-3\">\n                                    <div class=\"date\">\n                                        <i class=\"fa fa-clock-o\"></i>\n                                        {{item.created_at}}\n                                        <i class=\"fa author\"></i>\n                                        {{item.author}}\n                                    </div>\n                                </div>\n                                <a :href=\"'#/detail/' + item.id \" target=\"_blank\">\n                                    <h6 class=\"story_title\">{{item.title}}</h6>\n                                    <p v-html=\"item.content\" class=\"story_content\"></p>\n                                </a>\n                                <div class=\"news_botton\">\n                                    <a class=\"tag tag-red\" href=\"#\">{{item.category.title}}</a>\n                                    <div> <img src=\"@/assets/img/vote.png\" alt=\"img\" style=\"width:1.5em;\" /> {{item.vote}}</div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"btn-wrap mt-5 mb-5 text-center\">\n                            <a class=\"btn btn-main\" @click=\"showMore\">Load More</a>\n                        </div>\n                    </div>\n                    <div class=\"col-lg-4\">\n                        <div class=\"section-title\">\n                            <h4 class=\"title\">Categories</h4>\n                            <span class=\"line\"></span>\n                        </div>\n                        <ul class=\"widget widget-categories\">\n                            <li v-for=\"item in cateObjList\">\n                                <div class=\"thumb\"><img :src=item.cate_img alt=\"img\"></div>\n                                <a :href=\"'#/category/' + item.id \" target=\"_blank\">{{item.title}}</a>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <!-- news-area End -->\n    </div>\n</template>\n<script>\nimport { cateList, articleList, articleTopVoteList } from \"@/api/article.js\";\nimport goAnchor from \"@/utils/pageHandle.js\"\nimport { Notification } from 'element-ui';\nimport Header from \"../header/header\"\nimport Footer from \"../footer/footer\"\nimport { Loading } from 'element-ui';\nexport default {\n    name: 'Category',\n    components: {\n        Header,\n        Footer\n    },\n    async created() {  \n       // 页面一打开就去加载列表。  \n        this.cate_id = this.$route.params.cate_id \n        let cateRes = await cateList(); \n        this.cateObjList = cateRes.data.data;  \n\n        let articleRes = await articleTopVoteList({\"page\":1,\"cid\":this.cate_id}); \n        this.toparticles = articleRes.data.data.slice(0,4) \n        let articleRes2 = await articleList({\"page\":1,\"cid\":this.cate_id}); \n        this.articles = articleRes2.data.data \n        this.loading = false \n\n    },\n    data() {\n        return {\n            toparticles: {},\n            articles: {},\n            cateObjList: [], \n            page: 1,\n            loading :false,\n            cate_id:0\n        }\n    },\n    methods: {\n        async showMore() {  \n            this.loading =  true\n            let articleRes2 = await articleList({\"page\":this.page + 1,\"cid\":this.cate_id}); \n            let res = articleRes2.data.data\n            this.loading =  false \n            if (res.length < 1) {\n                const h = this.$createElement;\n                var mes = \"There are no more articles\"\n                var options = {\n                    title: 'Aha ~',\n                    message: h('i', { style: 'color: teal;font-weight:700' }, mes)\n\n                }\n                Notification(options)\n                return\n            }\n            this.articles = res \n            var anchor = this.$el.querySelector('#articlesFeed'); //获取元素 \n            \n            document.getElementById(\"articlesFeed\").scrollIntoView();  \n            this.page += 1\n        }\n    }\n\n}\n</script>\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.top_title {\n    max-height: 3em;\n    overflow: hidden;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 2;\n}\n\n.story_title {\n    font-size: 1em !important;\n    max-height: 2em;\n    overflow: hidden;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 1;\n}\n\n.story_content {\n    max-height: 5em;\n    overflow: hidden;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 3;\n\n}\n\n.meta .date i {\n    color: #7c7577;\n}\n\n.news_botton {\n    margin-top: 1.5em;\n}\n\n.news_botton div {\n    float: right;\n    margin-right: 3em;\n}\n\n\n@media (min-width: 600px) {\n    .news_botton a {\n        float: left\n    } \n} \n\n@media (max-width: 600px) {}\n</style>"]}]}