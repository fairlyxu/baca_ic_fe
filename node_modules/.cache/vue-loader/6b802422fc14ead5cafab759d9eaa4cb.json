{"remainingRequest":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/src/views/mine/mywallet.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/src/views/mine/mywallet.vue","mtime":1641637247231},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/node_modules/cache-loader/dist/cjs.js","mtime":1641628857414},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/node_modules/babel-loader/lib/index.js","mtime":1641628857287},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/node_modules/cache-loader/dist/cjs.js","mtime":1641628857414},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/node_modules/vue-loader/lib/index.js","mtime":1641628914620}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgeyBQcmluY2lwYWwgfSBmcm9tICdAZGZpbml0eS9wcmluY2lwYWwnOwppbXBvcnQgeyBkaXAyMCB9IGZyb20gIkAvdXRpbHMvZGlwMjAiOwppbXBvcnQgeyB1c2VBdXRoQ2xpZW50IH0gZnJvbSAiQC91dGlscy9sb2dpbl9ob29rcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ215d2FsbGV0JywKICBjb21wb25lbnRzOiB7CiAgfSwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGFkbWluQmFsYW5jZTogMCwKICAgICAgaG9sZGVySW5mbzogW10sCiAgICAgIG15QmFsYW5jZTogMCwKICAgICAgaXNBdXRoZW50aWNhdGVkOiB0cnVlLAogICAgICBwcmluY2lwYWw6ICIiCiAgICB9CiAgfSwKICBhc3luYyBjcmVhdGVkICgpIHsKICAgIHZhciB3YWxsZXQgPSB1c2VBdXRoQ2xpZW50KCk7CiAgICAvKiAKICAgICBhdXRoQ2xpZW50LAogICAgICBpc0F1dGhlbnRpY2F0ZWQsCiAgICAgIGxvZ2luLAogICAgICBsb2dvdXQsCiAgICAgIG15YWN0b3IsCiAgICAgIHByaW5jaXBhbCovCiAgICBjb25zb2xlLmxvZyh3YWxsZXQpCiAgICAvL2NoZWNrQWRtaW5CYWxhbmNlCiAgfSwKCiAgbWV0aG9kczogewogICAgYXN5bmMgbG9naW4gKCkgewogICAgICBjb25zb2xlLmxvZygibG9nIGluICIpCiAgICB9LAogICAgYXN5bmMgbG9nb3V0ICgpIHsKICAgICAgY29uc29sZS5sb2coImxvZyBvdXQgIikKICAgIH0sCiAgICBhc3luYyBjaGVja0FkbWluQmFsYW5jZSAoKSB7CiAgICAgIGNvbnN0IGFkbWluX3B1YmxpYyA9ICdtYXNwYS1uc2hwNS1xN3pjMy00YTNpci03Z3Fnai1wZDM3Zi01ZGo0aC1qbm5hZy1zbW9oZi1qbjNtaC1wcWUnCiAgICAgIHZhciByZXN1bHQgPSBhd2FpdCBkaXAyMC5iYWxhbmNlT2YoUHJpbmNpcGFsLmZyb21UZXh0KGFkbWluX3B1YmxpYykpOwogICAgICByZXN1bHQgPSBOdW1iZXIocmVzdWx0KQogICAgICBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgICB0aGlzLmFkbWluQmFsYW5jZSA9IHJlc3VsdDsKICAgIH0sCgogICAgYXN5bmMgY29sbGVjdFJld2FyZCAoKSB7CiAgICAgIHZhciByZXN1bHQgPSBhd2FpdCBhY3Rvci5jb2xsZWN0UmVhZFJld2FyZCgpOwogICAgICBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgfSwKCiAgICBhc3luYyBjaGVja1Jlc3VsdCAoKSB7CiAgICAgIHZhciByZXN1bHQgPSBhd2FpdCBkaXAyMC5nZXRIb2xkZXJzKDBuLCAxMDBuKTsKICAgICAgY29uc29sZS5sb2cocmVzdWx0KTsKICAgICAgcmVzdWx0ID0gcmVzdWx0Lm1hcCgocm93KSA9PiBbcm93WzBdLnRvVGV4dCgpLCBOdW1iZXIocm93WzFdKV0pCiAgICAgIHRoaXMuaG9sZGVySW5mbyA9IHJlc3VsdDsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["mywallet.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"mywallet.vue","sourceRoot":"src/views/mine","sourcesContent":["<template>\n  <div>\n    <div v-if=\"isAuthenticated\"> You are LoggedIn! {{principal}}\n      <button @click=\"logout\">logout</button>\n    </div>\n    <button @click=\"login\"> Log In </button>\n    <hr className=\"solid\" />\n    <div> <button @click=\"checkAdminBalance\">Check Admin Balance </button>\n      <h3> Admin Balance: {{adminBalance}} </h3>\n    </div>\n    <hr className=\"solid\" />\n    <button @click=\"checkMyBalance\">Check My Balance</button>\n    <h3>My Balance: {{myBalance}} </h3>\n    <hr className=\"solid\" />\n    <div> <button @click=\"collectReward\">Collect Reward for me</button></div>\n    <hr className=\"solid\" />\n  </div>\n</template>\n<script>\n\nimport { Principal } from '@dfinity/principal';\nimport { dip20 } from \"@/utils/dip20\";\nimport { useAuthClient } from \"@/utils/login_hooks\";\n\nexport default {\n  name: 'mywallet',\n  components: {\n  },\n  data () {\n    return {\n      adminBalance: 0,\n      holderInfo: [],\n      myBalance: 0,\n      isAuthenticated: true,\n      principal: \"\"\n    }\n  },\n  async created () {\n    var wallet = useAuthClient();\n    /* \n     authClient,\n      isAuthenticated,\n      login,\n      logout,\n      myactor,\n      principal*/\n    console.log(wallet)\n    //checkAdminBalance\n  },\n\n  methods: {\n    async login () {\n      console.log(\"log in \")\n    },\n    async logout () {\n      console.log(\"log out \")\n    },\n    async checkAdminBalance () {\n      const admin_public = 'maspa-nshp5-q7zc3-4a3ir-7gqgj-pd37f-5dj4h-jnnag-smohf-jn3mh-pqe'\n      var result = await dip20.balanceOf(Principal.fromText(admin_public));\n      result = Number(result)\n      console.log(result);\n      this.adminBalance = result;\n    },\n\n    async collectReward () {\n      var result = await actor.collectReadReward();\n      console.log(result);\n    },\n\n    async checkResult () {\n      var result = await dip20.getHolders(0n, 100n);\n      console.log(result);\n      result = result.map((row) => [row[0].toText(), Number(row[1])])\n      this.holderInfo = result;\n    }\n  }\n}\n</script>\n  "]}]}