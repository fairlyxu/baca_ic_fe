{"remainingRequest":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/src/views/mine/mywallet.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/src/views/mine/mywallet.vue","mtime":1641637138983},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/node_modules/cache-loader/dist/cjs.js","mtime":1641628857414},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/node_modules/babel-loader/lib/index.js","mtime":1641628857287},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/node_modules/cache-loader/dist/cjs.js","mtime":1641628857414},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/node_modules/vue-loader/lib/index.js","mtime":1641628914620}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgeyBQcmluY2lwYWwgfSBmcm9tICdAZGZpbml0eS9wcmluY2lwYWwnOwppbXBvcnQgeyBkaXAyMCB9IGZyb20gIi4uL3V0aWxzL2RpcDIwIjsKaW1wb3J0IHsgdXNlQXV0aENsaWVudCB9IGZyb20gIi4uL3V0aWxzL2xvZ2luX2hvb2tzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnbXl3YWxsZXQnLAogIGNvbXBvbmVudHM6IHsKICB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgYWRtaW5CYWxhbmNlOiAwLAogICAgICBob2xkZXJJbmZvOiBbXSwKICAgICAgbXlCYWxhbmNlOiAwLAogICAgICBpc0F1dGhlbnRpY2F0ZWQ6IHRydWUsCiAgICAgIHByaW5jaXBhbDogIiIKICAgIH0KICB9LAogIGFzeW5jIGNyZWF0ZWQgKCkgewogICAgdmFyIHdhbGxldCA9IHVzZUF1dGhDbGllbnQoKTsKICAgIC8qIAogICAgIGF1dGhDbGllbnQsCiAgICAgIGlzQXV0aGVudGljYXRlZCwKICAgICAgbG9naW4sCiAgICAgIGxvZ291dCwKICAgICAgbXlhY3RvciwKICAgICAgcHJpbmNpcGFsKi8KICAgIGNvbnNvbGUubG9nKHdhbGxldCkKICAgIC8vY2hlY2tBZG1pbkJhbGFuY2UKICB9LAoKICBtZXRob2RzOiB7CiAgICBhc3luYyBsb2dpbiAoKSB7CiAgICAgIGNvbnNvbGUubG9nKCJsb2cgaW4gIikKICAgIH0sCiAgICBhc3luYyBsb2dvdXQgKCkgewogICAgICBjb25zb2xlLmxvZygibG9nIG91dCAiKQogICAgfSwKICAgIGFzeW5jIGNoZWNrQWRtaW5CYWxhbmNlICgpIHsKICAgICAgY29uc3QgYWRtaW5fcHVibGljID0gJ21hc3BhLW5zaHA1LXE3emMzLTRhM2lyLTdncWdqLXBkMzdmLTVkajRoLWpubmFnLXNtb2hmLWpuM21oLXBxZScKICAgICAgdmFyIHJlc3VsdCA9IGF3YWl0IGRpcDIwLmJhbGFuY2VPZihQcmluY2lwYWwuZnJvbVRleHQoYWRtaW5fcHVibGljKSk7CiAgICAgIHJlc3VsdCA9IE51bWJlcihyZXN1bHQpCiAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7CiAgICAgIHRoaXMuYWRtaW5CYWxhbmNlID0gcmVzdWx0OwogICAgfSwKCiAgICBhc3luYyBjb2xsZWN0UmV3YXJkICgpIHsKICAgICAgdmFyIHJlc3VsdCA9IGF3YWl0IGFjdG9yLmNvbGxlY3RSZWFkUmV3YXJkKCk7CiAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7CiAgICB9LAoKICAgIGFzeW5jIGNoZWNrUmVzdWx0ICgpIHsKICAgICAgdmFyIHJlc3VsdCA9IGF3YWl0IGRpcDIwLmdldEhvbGRlcnMoMG4sIDEwMG4pOwogICAgICBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgICByZXN1bHQgPSByZXN1bHQubWFwKChyb3cpID0+IFtyb3dbMF0udG9UZXh0KCksIE51bWJlcihyb3dbMV0pXSkKICAgICAgdGhpcy5ob2xkZXJJbmZvID0gcmVzdWx0OwogICAgfQogIH0KfQo="},{"version":3,"sources":["mywallet.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"mywallet.vue","sourceRoot":"src/views/mine","sourcesContent":["<template>\n  <div>\n    <div v-if=\"isAuthenticated\"> You are LoggedIn! {{principal}}\n      <button @click=\"logout\">logout</button>\n    </div>\n    <button @click=\"login\"> Log In </button>\n    <hr className=\"solid\" />\n    <div> <button @click=\"checkAdminBalance\">Check Admin Balance </button>\n      <h3> Admin Balance: {{adminBalance}} </h3>\n    </div>\n    <hr className=\"solid\" />\n    <button @click=\"checkMyBalance\">Check My Balance</button>\n    <h3>My Balance: {{myBalance}} </h3>\n    <hr className=\"solid\" />\n    <div> <button @click=\"collectReward\">Collect Reward for me</button></div>\n    <hr className=\"solid\" />\n  </div>\n</template>\n<script>\n\nimport { Principal } from '@dfinity/principal';\nimport { dip20 } from \"../utils/dip20\";\nimport { useAuthClient } from \"../utils/login_hooks\";\n\nexport default {\n  name: 'mywallet',\n  components: {\n  },\n  data () {\n    return {\n      adminBalance: 0,\n      holderInfo: [],\n      myBalance: 0,\n      isAuthenticated: true,\n      principal: \"\"\n    }\n  },\n  async created () {\n    var wallet = useAuthClient();\n    /* \n     authClient,\n      isAuthenticated,\n      login,\n      logout,\n      myactor,\n      principal*/\n    console.log(wallet)\n    //checkAdminBalance\n  },\n\n  methods: {\n    async login () {\n      console.log(\"log in \")\n    },\n    async logout () {\n      console.log(\"log out \")\n    },\n    async checkAdminBalance () {\n      const admin_public = 'maspa-nshp5-q7zc3-4a3ir-7gqgj-pd37f-5dj4h-jnnag-smohf-jn3mh-pqe'\n      var result = await dip20.balanceOf(Principal.fromText(admin_public));\n      result = Number(result)\n      console.log(result);\n      this.adminBalance = result;\n    },\n\n    async collectReward () {\n      var result = await actor.collectReadReward();\n      console.log(result);\n    },\n\n    async checkResult () {\n      var result = await dip20.getHolders(0n, 100n);\n      console.log(result);\n      result = result.map((row) => [row[0].toText(), Number(row[1])])\n      this.holderInfo = result;\n    }\n  }\n}\n</script>\n  "]}]}