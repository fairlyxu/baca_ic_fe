{"remainingRequest":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_ic_fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_ic_fe/src/views/login/index.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_ic_fe/src/views/login/index.vue","mtime":1641909692798},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_ic_fe/node_modules/css-loader/dist/cjs.js","mtime":1641628913747},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_ic_fe/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1641628914620},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_ic_fe/node_modules/postcss-loader/src/index.js","mtime":1641628914520},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_ic_fe/node_modules/cache-loader/dist/cjs.js","mtime":1641628857414},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_ic_fe/node_modules/vue-loader/lib/index.js","mtime":1641628914620}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmJ0bnMgewogIHBhZGRpbmctbGVmdDogM2VtOwogIG1hcmdpbi1ib3R0b206IDFlbTsKfQouZGVtby1ydWxlRm9ybSB7CiAgcGFkZGluZy1yaWdodDogM2VtOwp9Ci5sb2dpbi13cmFwIHsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KaW5wdXQgewogIGRpc3BsYXk6IGJsb2NrOwogIHdpZHRoOiAyNTBweDsKICBoZWlnaHQ6IDQwcHg7CiAgbGluZS1oZWlnaHQ6IDQwcHg7CiAgbWFyZ2luOiAwIGF1dG87CiAgbWFyZ2luLWJvdHRvbTogMTBweDsKICBvdXRsaW5lOiBub25lOwogIGJvcmRlcjogMXB4IHNvbGlkICM4ODg7CiAgcGFkZGluZzogMTBweDsKICBib3gtc2l6aW5nOiBib3JkZXItYm94Owp9CnAgewogIGNvbG9yOiByZWQ7Cn0KYnV0dG9uIHsKICBkaXNwbGF5OiBibG9jazsKICB3aWR0aDogMjAlOwogIGhlaWdodDogNDBweDsKICBsaW5lLWhlaWdodDogNDBweDsKICBtYXJnaW46IDAgYXV0bzsKICBib3JkZXI6IG5vbmU7CiAgYmFja2dyb3VuZC1jb2xvcjogIzQxYjg4MzsKICBjb2xvcjogI2ZmZjsKICBmb250LXNpemU6IDE2cHg7CiAgbWFyZ2luLWJvdHRvbTogNXB4Owp9CnNwYW4gewogIGN1cnNvcjogcG9pbnRlcjsKfQpzcGFuOmhvdmVyIHsKICBjb2xvcjogIzQxYjg4MzsKfQoubG9naW4gewogIHdpZHRoOiA1MCU7CiAgcGFkZGluZzogM2VtOwogIGJhY2tncm91bmQtY29sb3I6ICNlOWU5ZTk7CiAgbWFyZ2luOiBhdXRvOwogIG1hcmdpbi10b3A6IDJlbTsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgYm94LXNoYWRvdzogI2Q1ZDRkNCAxcHggMXB4IDJweCAycHg7Cn0KQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA3MDBweCkgewogIC5sb2dpbiB7CiAgICB3aWR0aDogMTAwJTsKICAgIHBhZGRpbmc6IDFlbTsKICB9CiAgYnV0dG9uIHsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgd2lkdGg6IDMwJTsKICAgIGhlaWdodDogNDBweDsKICAgIGxpbmUtaGVpZ2h0OiA0MHB4OwogICAgbWFyZ2luOiAwIGF1dG87CiAgICBib3JkZXI6IG5vbmU7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDFiODgzOwogICAgY29sb3I6ICNmZmY7CiAgICBmb250LXNpemU6IDE2cHg7CiAgICBtYXJnaW4tYm90dG9tOiA1cHg7CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\n  <div class=\"login\">\n\n    <div class=\"login-wrap\"\n         v-show=\"showLogin\">\n      <h3>登录</h3>\n      <p v-show=\"showTishi\">{{tishi}}</p>\n      <el-form :model=\"loginForm\"\n               status-icon\n               ref=\"loginForm\"\n               label-width=\"30%\"\n               class=\"demo-ruleForm\">\n        <el-form-item prop=\"email\"\n                      label=\"邮箱\"\n                      :rules=\"[\n      { required: true, message: '请输入邮箱地址', trigger: 'blur' },\n      { type: 'email', message: '请输入正确的邮箱地址', trigger: ['blur', 'change'] }\n    ]\">\n          <el-input v-model=\"loginForm.email\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\"\n                      prop=\"pass\"\n                      :rules=\"[ { required: true, message: '请输入密码', trigger: 'blur' } , ]\">\n          <el-input type=\"password\"\n                    v-model=\"loginForm.pass\"\n                    autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <div class='btns'>\n\n          <el-button type=\"primary\"\n                     @click=\"submitForm('ruleForm')\">提交</el-button>\n          <el-button @click=\"resetForm('loginForm')\">重置</el-button>\n        </div>\n\n      </el-form>\n      <span v-on:click=\"ToRegister\">没有账号？马上注册</span>\n    </div>\n\n    <div class=\"register-wrap\"\n         v-show=\"showRegister\">\n      <h3>注册</h3>\n      <p v-show=\"showTishi\">{{tishi}}</p>\n      <el-form :model=\"registerForm\"\n               status-icon\n               ref=\"registerForm\"\n               label-width=\"30%\"\n               class=\"demo-ruleForm\">\n        <el-form-item prop=\"email\"\n                      label=\"邮箱\"\n                      :rules=\"[\n      { required: true, message: '请输入邮箱地址', trigger: 'blur' },\n      { type: 'email', message: '请输入正确的邮箱地址', trigger: ['blur', 'change'] }\n    ]\">\n          <el-input v-model=\"registerForm.email\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\"\n                      prop=\"pass\"\n                      :rules=\"[\n      { required: true, message: '请输入密码', trigger: 'blur' } \n    ]\">\n          <el-input type=\"password\"\n                    v-model=\"registerForm.pass\"\n                    autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"昵称\"\n                      prop=\"name\">\n          <el-input v-model=\"registerForm.name\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"邀请码\"\n                      prop=\"invitecode\">\n          <el-input v-model=\"registerForm.invitecode\"></el-input>\n        </el-form-item>\n        <div class='btns'>\n          <el-button type=\"primary\"\n                     @click=\"register()\">提交</el-button>\n          <el-button @click=\"resetForm('registerForm')\">重置</el-button>\n        </div>\n      </el-form>\n      <span v-on:click=\"ToLogin\">已有账号？马上登录</span>\n    </div>\n  </div>\n</template>\n\n<style>\n.btns {\n  padding-left: 3em;\n  margin-bottom: 1em;\n}\n.demo-ruleForm {\n  padding-right: 3em;\n}\n.login-wrap {\n  text-align: center;\n}\ninput {\n  display: block;\n  width: 250px;\n  height: 40px;\n  line-height: 40px;\n  margin: 0 auto;\n  margin-bottom: 10px;\n  outline: none;\n  border: 1px solid #888;\n  padding: 10px;\n  box-sizing: border-box;\n}\np {\n  color: red;\n}\nbutton {\n  display: block;\n  width: 20%;\n  height: 40px;\n  line-height: 40px;\n  margin: 0 auto;\n  border: none;\n  background-color: #41b883;\n  color: #fff;\n  font-size: 16px;\n  margin-bottom: 5px;\n}\nspan {\n  cursor: pointer;\n}\nspan:hover {\n  color: #41b883;\n}\n.login {\n  width: 50%;\n  padding: 3em;\n  background-color: #e9e9e9;\n  margin: auto;\n  margin-top: 2em;\n  text-align: center;\n  box-shadow: #d5d4d4 1px 1px 2px 2px;\n}\n@media only screen and (max-width: 700px) {\n  .login {\n    width: 100%;\n    padding: 1em;\n  }\n  button {\n    display: block;\n    width: 30%;\n    height: 40px;\n    line-height: 40px;\n    margin: 0 auto;\n    border: none;\n    background-color: #41b883;\n    color: #fff;\n    font-size: 16px;\n    margin-bottom: 5px;\n  }\n}\n</style>\n\n<script>\n//import { setCookie, getCookie } from '../../assets/js/cookie.js'\n\n\nexport default {\n  data () {\n    return {\n      loginForm: {\n        email: '',\n        pass: ''\n      },\n      registerForm: {\n        email: '',\n        pass: '',\n        name: '',\n        invitecode: ''\n\n      },\n      /*rules: {\n        pass: [\n          { validator: validatePass, trigger: 'blur' }\n        ]\n      },*/\n\n\n      tishi: '',\n      showTishi: false,\n      showLogin: true,\n      showRegister: false,\n\n    }\n  },\n  mounted () {\n    /*if (getCookie('username')) {\n      this.$router.push('/home')\n    }*/\n  },\n  methods: {\n    resetForm (formName) {\n      this.$refs[formName].resetFields();\n    },\n    login () {\n      if (this.username == \"\" || this.password == \"\") {\n        alert(\"请输入用户名或密码\")\n      } else {\n        let data = { 'username': this.username, 'password': this.password }\n        this.$http.post('http://localhost/vueapi/index.php/Home/user/login', data).then((res) => {\n          console.log(res)\n          if (res.data == -1) {\n            this.tishi = \"该用户不存在\"\n            this.showTishi = true\n          } else if (res.data == 0) {\n            this.tishi = \"密码输入错误\"\n            this.showTishi = true\n          } else if (res.data == 'admin') {\n            this.$router.push('/main')\n          } else {\n            this.tishi = \"登录成功\"\n            this.showTishi = true\n            //setCookie('username', this.username, 1000 * 60)\n            setTimeout(function () {\n              this.$router.push({ path: 'home', query: { id: 1 } })\n            }.bind(this), 1000)\n          }\n        })\n      }\n    },\n    ToRegister () {\n      this.showRegister = true\n      this.showLogin = false\n    },\n    ToLogin () {\n      this.showRegister = false\n      this.showLogin = true\n    },\n    register () {\n      if (this.newUsername == \"\" || this.newPassword == \"\") {\n        alert(\"请输入用户名或密码\")\n      } else {\n        let data = { 'username': this.newUsername, 'password': this.newPassword }\n        this.$http.post('http://localhost/vueapi/index.php/Home/user/register', data).then((res) => {\n          console.log(res)\n          if (res.data == \"ok\") {\n            this.tishi = \"注册成功\"\n            this.showTishi = true\n            this.username = ''\n            this.password = ''\n            setTimeout(function () {\n              this.showRegister = false\n              this.showLogin = true\n              this.showTishi = false\n            }.bind(this), 1000)\n          }\n        })\n      }\n    }\n  }\n}\n</script>"]}]}