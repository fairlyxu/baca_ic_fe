{"remainingRequest":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/node_modules/babel-loader/lib/index.js!/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/src/utils/dip20/index.js","dependencies":[{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/src/utils/dip20/index.js","mtime":1641629275913},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/babel.config.js","mtime":1640424508700},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/node_modules/cache-loader/dist/cjs.js","mtime":1641628857414},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/node_modules/babel-loader/lib/index.js","mtime":1641628857287}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2ZhaXJseXh1L0RvY3VtZW50cy8wOC13b3Jrc3BhY2UvMDctd2ViMy9iYWNhbGFiL2JhY2FfYXBwX2g1L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IHsgQWN0b3IsIEh0dHBBZ2VudCB9IGZyb20gIkBkZmluaXR5L2FnZW50IjsgLy8gSW1wb3J0cyBhbmQgcmUtZXhwb3J0cyBjYW5kaWQgaW50ZXJmYWNlCgppbXBvcnQgeyBpZGxGYWN0b3J5IH0gZnJvbSAnLi9kaXAyMC5kaWQuanMnOwpleHBvcnQgeyBpZGxGYWN0b3J5IH0gZnJvbSAnLi9kaXAyMC5kaWQuanMnOyAvLyBDQU5JU1RFUl9JRCBpcyByZXBsYWNlZCBieSB3ZWJwYWNrIGJhc2VkIG9uIG5vZGUgZW52aXJvbm1lbnQKCmV4cG9ydCB2YXIgY2FuaXN0ZXJJZCA9IHByb2Nlc3MuZW52LkRJUDIwX0NBTklTVEVSX0lEOwovKioKICogCiAqIEBwYXJhbSB7c3RyaW5nIHwgaW1wb3J0KCJAZGZpbml0eS9wcmluY2lwYWwiKS5QcmluY2lwYWx9IGNhbmlzdGVySWQgQ2FuaXN0ZXIgSUQgb2YgQWdlbnQKICogQHBhcmFtIHt7YWdlbnRPcHRpb25zPzogaW1wb3J0KCJAZGZpbml0eS9hZ2VudCIpLkh0dHBBZ2VudE9wdGlvbnM7IGFjdG9yT3B0aW9ucz86IGltcG9ydCgiQGRmaW5pdHkvYWdlbnQiKS5BY3RvckNvbmZpZ319IFtvcHRpb25zXQogKiBAcmV0dXJuIHtpbXBvcnQoIkBkZmluaXR5L2FnZW50IikuQWN0b3JTdWJjbGFzczxpbXBvcnQoIi4vZGlwMjAuZGlkLmpzIikuX1NFUlZJQ0U+fQogKi8KCmV4cG9ydCB2YXIgY3JlYXRlQWN0b3IgPSBmdW5jdGlvbiBjcmVhdGVBY3RvcihjYW5pc3RlcklkLCBvcHRpb25zKSB7CiAgdmFyIGFnZW50ID0gbmV3IEh0dHBBZ2VudChfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuYWdlbnRPcHRpb25zKSk7IC8vIEZldGNoIHJvb3Qga2V5IGZvciBjZXJ0aWZpY2F0ZSB2YWxpZGF0aW9uIGR1cmluZyBkZXZlbG9wbWVudAoKICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICJwcm9kdWN0aW9uIikgewogICAgYWdlbnQuZmV0Y2hSb290S2V5KCkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICBjb25zb2xlLndhcm4oIlVuYWJsZSB0byBmZXRjaCByb290IGtleS4gQ2hlY2sgdG8gZW5zdXJlIHRoYXQgeW91ciBsb2NhbCByZXBsaWNhIGlzIHJ1bm5pbmciKTsKICAgICAgY29uc29sZS5lcnJvcihlcnIpOwogICAgfSk7CiAgfSAvLyBDcmVhdGVzIGFuIGFjdG9yIHdpdGggdXNpbmcgdGhlIGNhbmRpZCBpbnRlcmZhY2UgYW5kIHRoZSBIdHRwQWdlbnQKCgogIHJldHVybiBBY3Rvci5jcmVhdGVBY3RvcihpZGxGYWN0b3J5LCBfb2JqZWN0U3ByZWFkKHsKICAgIGFnZW50OiBhZ2VudCwKICAgIGNhbmlzdGVySWQ6IGNhbmlzdGVySWQKICB9LCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuYWN0b3JPcHRpb25zKSk7Cn07Ci8qKgogKiBBIHJlYWR5LXRvLXVzZSBhZ2VudCBmb3IgdGhlIGRpcDIwIGNhbmlzdGVyCiAqIEB0eXBlIHtpbXBvcnQoIkBkZmluaXR5L2FnZW50IikuQWN0b3JTdWJjbGFzczxpbXBvcnQoIi4vZGlwMjAuZGlkLmpzIikuX1NFUlZJQ0U+fQogKi8KCmV4cG9ydCB2YXIgZGlwMjAgPSBjcmVhdGVBY3RvcihjYW5pc3RlcklkKTs="},{"version":3,"sources":["/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/src/utils/dip20/index.js"],"names":["Actor","HttpAgent","idlFactory","canisterId","process","env","DIP20_CANISTER_ID","createActor","options","agent","agentOptions","NODE_ENV","fetchRootKey","catch","err","console","warn","error","actorOptions","dip20"],"mappings":";AAAA,SAASA,KAAT,EAAgBC,SAAhB,QAAiC,gBAAjC,C,CAEA;;AACA,SAASC,UAAT,QAA2B,gBAA3B;AACA,SAASA,UAAT,QAA2B,gBAA3B,C,CACA;;AACA,OAAO,IAAMC,UAAU,GAAGC,OAAO,CAACC,GAAR,CAAYC,iBAA/B;AAEP;AACA;AACA;AACA;AACA;AACA;;AACC,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACJ,UAAD,EAAaK,OAAb,EAAyB;AACnD,MAAMC,KAAK,GAAG,IAAIR,SAAJ,mBAAmBO,OAAnB,aAAmBA,OAAnB,uBAAmBA,OAAO,CAAEE,YAA5B,EAAd,CADmD,CAGnD;;AACA,MAAGN,OAAO,CAACC,GAAR,CAAYM,QAAZ,KAAyB,YAA5B,EAA0C;AACxCF,IAAAA,KAAK,CAACG,YAAN,GAAqBC,KAArB,CAA2B,UAAAC,GAAG,EAAE;AAC9BC,MAAAA,OAAO,CAACC,IAAR,CAAa,8EAAb;AACAD,MAAAA,OAAO,CAACE,KAAR,CAAcH,GAAd;AACD,KAHD;AAID,GATkD,CAWnD;;;AACA,SAAOd,KAAK,CAACO,WAAN,CAAkBL,UAAlB;AACLO,IAAAA,KAAK,EAALA,KADK;AAELN,IAAAA,UAAU,EAAVA;AAFK,KAGFK,OAHE,aAGFA,OAHE,uBAGFA,OAAO,CAAEU,YAHP,EAAP;AAKD,CAjBO;AAmBR;AACA;AACA;AACA;;AACC,OAAO,IAAMC,KAAK,GAAGZ,WAAW,CAACJ,UAAD,CAAzB","sourcesContent":["import { Actor, HttpAgent } from \"@dfinity/agent\";\n\n// Imports and re-exports candid interface\nimport { idlFactory } from './dip20.did.js';\nexport { idlFactory } from './dip20.did.js';\n// CANISTER_ID is replaced by webpack based on node environment\nexport const canisterId = process.env.DIP20_CANISTER_ID;\n\n/**\n * \n * @param {string | import(\"@dfinity/principal\").Principal} canisterId Canister ID of Agent\n * @param {{agentOptions?: import(\"@dfinity/agent\").HttpAgentOptions; actorOptions?: import(\"@dfinity/agent\").ActorConfig}} [options]\n * @return {import(\"@dfinity/agent\").ActorSubclass<import(\"./dip20.did.js\")._SERVICE>}\n */\n export const createActor = (canisterId, options) => {\n  const agent = new HttpAgent({ ...options?.agentOptions });\n  \n  // Fetch root key for certificate validation during development\n  if(process.env.NODE_ENV !== \"production\") {\n    agent.fetchRootKey().catch(err=>{\n      console.warn(\"Unable to fetch root key. Check to ensure that your local replica is running\");\n      console.error(err);\n    });\n  }\n\n  // Creates an actor with using the candid interface and the HttpAgent\n  return Actor.createActor(idlFactory, {\n    agent,\n    canisterId,\n    ...options?.actorOptions,\n  });\n};\n  \n/**\n * A ready-to-use agent for the dip20 canister\n * @type {import(\"@dfinity/agent\").ActorSubclass<import(\"./dip20.did.js\")._SERVICE>}\n */\n export const dip20 = createActor(canisterId);\n"]}]}