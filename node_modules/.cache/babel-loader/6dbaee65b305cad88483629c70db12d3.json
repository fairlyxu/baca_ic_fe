{"remainingRequest":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_ic_fe/node_modules/babel-loader/lib/index.js!/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_ic_fe/src/utils/dip20/index.js","dependencies":[{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_ic_fe/src/utils/dip20/index.js","mtime":1641629275913},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_ic_fe/babel.config.js","mtime":1640424508700},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_ic_fe/node_modules/cache-loader/dist/cjs.js","mtime":1641628857414},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_ic_fe/node_modules/babel-loader/lib/index.js","mtime":1641628857287}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2ZhaXJseXh1L0RvY3VtZW50cy8wOC13b3Jrc3BhY2UvMDctd2ViMy9iYWNhbGFiL2JhY2FfaWNfZmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgeyBBY3RvciwgSHR0cEFnZW50IH0gZnJvbSAiQGRmaW5pdHkvYWdlbnQiOyAvLyBJbXBvcnRzIGFuZCByZS1leHBvcnRzIGNhbmRpZCBpbnRlcmZhY2UKCmltcG9ydCB7IGlkbEZhY3RvcnkgfSBmcm9tICcuL2RpcDIwLmRpZC5qcyc7CmV4cG9ydCB7IGlkbEZhY3RvcnkgfSBmcm9tICcuL2RpcDIwLmRpZC5qcyc7IC8vIENBTklTVEVSX0lEIGlzIHJlcGxhY2VkIGJ5IHdlYnBhY2sgYmFzZWQgb24gbm9kZSBlbnZpcm9ubWVudAoKZXhwb3J0IHZhciBjYW5pc3RlcklkID0gcHJvY2Vzcy5lbnYuRElQMjBfQ0FOSVNURVJfSUQ7Ci8qKgogKiAKICogQHBhcmFtIHtzdHJpbmcgfCBpbXBvcnQoIkBkZmluaXR5L3ByaW5jaXBhbCIpLlByaW5jaXBhbH0gY2FuaXN0ZXJJZCBDYW5pc3RlciBJRCBvZiBBZ2VudAogKiBAcGFyYW0ge3thZ2VudE9wdGlvbnM/OiBpbXBvcnQoIkBkZmluaXR5L2FnZW50IikuSHR0cEFnZW50T3B0aW9uczsgYWN0b3JPcHRpb25zPzogaW1wb3J0KCJAZGZpbml0eS9hZ2VudCIpLkFjdG9yQ29uZmlnfX0gW29wdGlvbnNdCiAqIEByZXR1cm4ge2ltcG9ydCgiQGRmaW5pdHkvYWdlbnQiKS5BY3RvclN1YmNsYXNzPGltcG9ydCgiLi9kaXAyMC5kaWQuanMiKS5fU0VSVklDRT59CiAqLwoKZXhwb3J0IHZhciBjcmVhdGVBY3RvciA9IGZ1bmN0aW9uIGNyZWF0ZUFjdG9yKGNhbmlzdGVySWQsIG9wdGlvbnMpIHsKICB2YXIgYWdlbnQgPSBuZXcgSHR0cEFnZW50KF9vYmplY3RTcHJlYWQoe30sIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5hZ2VudE9wdGlvbnMpKTsgLy8gRmV0Y2ggcm9vdCBrZXkgZm9yIGNlcnRpZmljYXRlIHZhbGlkYXRpb24gZHVyaW5nIGRldmVsb3BtZW50CgogIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gInByb2R1Y3Rpb24iKSB7CiAgICBhZ2VudC5mZXRjaFJvb3RLZXkoKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgIGNvbnNvbGUud2FybigiVW5hYmxlIHRvIGZldGNoIHJvb3Qga2V5LiBDaGVjayB0byBlbnN1cmUgdGhhdCB5b3VyIGxvY2FsIHJlcGxpY2EgaXMgcnVubmluZyIpOwogICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICB9KTsKICB9IC8vIENyZWF0ZXMgYW4gYWN0b3Igd2l0aCB1c2luZyB0aGUgY2FuZGlkIGludGVyZmFjZSBhbmQgdGhlIEh0dHBBZ2VudAoKCiAgcmV0dXJuIEFjdG9yLmNyZWF0ZUFjdG9yKGlkbEZhY3RvcnksIF9vYmplY3RTcHJlYWQoewogICAgYWdlbnQ6IGFnZW50LAogICAgY2FuaXN0ZXJJZDogY2FuaXN0ZXJJZAogIH0sIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5hY3Rvck9wdGlvbnMpKTsKfTsKLyoqCiAqIEEgcmVhZHktdG8tdXNlIGFnZW50IGZvciB0aGUgZGlwMjAgY2FuaXN0ZXIKICogQHR5cGUge2ltcG9ydCgiQGRmaW5pdHkvYWdlbnQiKS5BY3RvclN1YmNsYXNzPGltcG9ydCgiLi9kaXAyMC5kaWQuanMiKS5fU0VSVklDRT59CiAqLwoKZXhwb3J0IHZhciBkaXAyMCA9IGNyZWF0ZUFjdG9yKGNhbmlzdGVySWQpOw=="},{"version":3,"sources":["/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_ic_fe/src/utils/dip20/index.js"],"names":["Actor","HttpAgent","idlFactory","canisterId","process","env","DIP20_CANISTER_ID","createActor","options","agent","agentOptions","NODE_ENV","fetchRootKey","catch","err","console","warn","error","actorOptions","dip20"],"mappings":";AAAA,SAASA,KAAT,EAAgBC,SAAhB,QAAiC,gBAAjC,C,CAEA;;AACA,SAASC,UAAT,QAA2B,gBAA3B;AACA,SAASA,UAAT,QAA2B,gBAA3B,C,CACA;;AACA,OAAO,IAAMC,UAAU,GAAGC,OAAO,CAACC,GAAR,CAAYC,iBAA/B;AAEP;AACA;AACA;AACA;AACA;AACA;;AACC,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACJ,UAAD,EAAaK,OAAb,EAAyB;AACnD,MAAMC,KAAK,GAAG,IAAIR,SAAJ,mBAAmBO,OAAnB,aAAmBA,OAAnB,uBAAmBA,OAAO,CAAEE,YAA5B,EAAd,CADmD,CAGnD;;AACA,MAAGN,OAAO,CAACC,GAAR,CAAYM,QAAZ,KAAyB,YAA5B,EAA0C;AACxCF,IAAAA,KAAK,CAACG,YAAN,GAAqBC,KAArB,CAA2B,UAAAC,GAAG,EAAE;AAC9BC,MAAAA,OAAO,CAACC,IAAR,CAAa,8EAAb;AACAD,MAAAA,OAAO,CAACE,KAAR,CAAcH,GAAd;AACD,KAHD;AAID,GATkD,CAWnD;;;AACA,SAAOd,KAAK,CAACO,WAAN,CAAkBL,UAAlB;AACLO,IAAAA,KAAK,EAALA,KADK;AAELN,IAAAA,UAAU,EAAVA;AAFK,KAGFK,OAHE,aAGFA,OAHE,uBAGFA,OAAO,CAAEU,YAHP,EAAP;AAKD,CAjBO;AAmBR;AACA;AACA;AACA;;AACC,OAAO,IAAMC,KAAK,GAAGZ,WAAW,CAACJ,UAAD,CAAzB","sourcesContent":["import { Actor, HttpAgent } from \"@dfinity/agent\";\n\n// Imports and re-exports candid interface\nimport { idlFactory } from './dip20.did.js';\nexport { idlFactory } from './dip20.did.js';\n// CANISTER_ID is replaced by webpack based on node environment\nexport const canisterId = process.env.DIP20_CANISTER_ID;\n\n/**\n * \n * @param {string | import(\"@dfinity/principal\").Principal} canisterId Canister ID of Agent\n * @param {{agentOptions?: import(\"@dfinity/agent\").HttpAgentOptions; actorOptions?: import(\"@dfinity/agent\").ActorConfig}} [options]\n * @return {import(\"@dfinity/agent\").ActorSubclass<import(\"./dip20.did.js\")._SERVICE>}\n */\n export const createActor = (canisterId, options) => {\n  const agent = new HttpAgent({ ...options?.agentOptions });\n  \n  // Fetch root key for certificate validation during development\n  if(process.env.NODE_ENV !== \"production\") {\n    agent.fetchRootKey().catch(err=>{\n      console.warn(\"Unable to fetch root key. Check to ensure that your local replica is running\");\n      console.error(err);\n    });\n  }\n\n  // Creates an actor with using the candid interface and the HttpAgent\n  return Actor.createActor(idlFactory, {\n    agent,\n    canisterId,\n    ...options?.actorOptions,\n  });\n};\n  \n/**\n * A ready-to-use agent for the dip20 canister\n * @type {import(\"@dfinity/agent\").ActorSubclass<import(\"./dip20.did.js\")._SERVICE>}\n */\n export const dip20 = createActor(canisterId);\n"]}]}