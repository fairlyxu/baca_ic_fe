{"remainingRequest":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/node_modules/babel-loader/lib/index.js!/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/src/views/mine/mywallet.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/src/views/mine/mywallet.vue","mtime":1641637625018},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/node_modules/cache-loader/dist/cjs.js","mtime":1641628857414},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/node_modules/babel-loader/lib/index.js","mtime":1641628857287},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/node_modules/cache-loader/dist/cjs.js","mtime":1641628857414},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/node_modules/vue-loader/lib/index.js","mtime":1641628914620},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/babel.config.js","mtime":1640424508700},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/node_modules/cache-loader/dist/cjs.js","mtime":1641628857414},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/node_modules/babel-loader/lib/index.js","mtime":1641628857287},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/node_modules/cache-loader/dist/cjs.js","mtime":1641628857414},{"path":"/Users/fairlyxu/Documents/08-workspace/07-web3/bacalab/baca_app_h5/node_modules/vue-loader/lib/index.js","mtime":1641628914620}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9mYWlybHl4dS9Eb2N1bWVudHMvMDgtd29ya3NwYWNlLzA3LXdlYjMvYmFjYWxhYi9iYWNhX2FwcF9oNS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgUHJpbmNpcGFsIH0gZnJvbSAnQGRmaW5pdHkvcHJpbmNpcGFsJzsKaW1wb3J0IHsgZGlwMjAgfSBmcm9tICJAL3V0aWxzL2RpcDIwIjsgLy9pbXBvcnQgeyB1c2VBdXRoQ2xpZW50IH0gZnJvbSAiQC91dGlscy9sb2dpbl9ob29rcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ215d2FsbGV0JywKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWRtaW5CYWxhbmNlOiAwLAogICAgICBob2xkZXJJbmZvOiBbXSwKICAgICAgbXlCYWxhbmNlOiAwLAogICAgICBpc0F1dGhlbnRpY2F0ZWQ6IHRydWUsCiAgICAgIHByaW5jaXBhbDogIiIKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHdhbGxldDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHdhbGxldCA9IHVzZUF1dGhDbGllbnQoKTsKICAgICAgICAgICAgICAvKiAKICAgICAgICAgICAgICAgYXV0aENsaWVudCwKICAgICAgICAgICAgICAgIGlzQXV0aGVudGljYXRlZCwKICAgICAgICAgICAgICAgIGxvZ2luLAogICAgICAgICAgICAgICAgbG9nb3V0LAogICAgICAgICAgICAgICAgbXlhY3RvciwKICAgICAgICAgICAgICAgIHByaW5jaXBhbCovCgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHdhbGxldCk7IC8vY2hlY2tBZG1pbkJhbGFuY2UKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJsb2cgaW4gIik7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImxvZyBvdXQgIik7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNoZWNrQWRtaW5CYWxhbmNlOiBmdW5jdGlvbiBjaGVja0FkbWluQmFsYW5jZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBhZG1pbl9wdWJsaWMsIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgYWRtaW5fcHVibGljID0gJ21hc3BhLW5zaHA1LXE3emMzLTRhM2lyLTdncWdqLXBkMzdmLTVkajRoLWpubmFnLXNtb2hmLWpuM21oLXBxZSc7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlwMjAuYmFsYW5jZU9mKFByaW5jaXBhbC5mcm9tVGV4dChhZG1pbl9wdWJsaWMpKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXN1bHQgPSBOdW1iZXIocmVzdWx0KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7CiAgICAgICAgICAgICAgICBfdGhpcy5hZG1pbkJhbGFuY2UgPSByZXN1bHQ7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNvbGxlY3RSZXdhcmQ6IGZ1bmN0aW9uIGNvbGxlY3RSZXdhcmQoKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBhY3Rvci5jb2xsZWN0UmVhZFJld2FyZCgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNoZWNrUmVzdWx0OiBmdW5jdGlvbiBjaGVja1Jlc3VsdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlwMjAuZ2V0SG9sZGVycygwbiwgMTAwbik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5tYXAoZnVuY3Rpb24gKHJvdykgewogICAgICAgICAgICAgICAgICByZXR1cm4gW3Jvd1swXS50b1RleHQoKSwgTnVtYmVyKHJvd1sxXSldOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfdGhpczIuaG9sZGVySW5mbyA9IHJlc3VsdDsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["mywallet.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAoBA,SAAA,SAAA,QAAA,oBAAA;AACA,SAAA,KAAA,QAAA,eAAA,C,CACA;;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,CADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA,CAHA;AAIA,MAAA,eAAA,EAAA,IAJA;AAKA,MAAA,SAAA,EAAA;AALA,KAAA;AAOA,GAZA;AAaA,EAAA,OAbA,qBAaA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,cAAA,MADA,GACA,aAAA,EADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,cAAA,OAAA,CAAA,GAAA,CAAA,MAAA,EATA,CAUA;;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA,GAxBA;AA0BA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,SAAA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,KAHA;AAIA,IAAA,MAJA,oBAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,UAAA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,KANA;AAOA,IAAA,iBAPA,+BAOA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,YADA,GACA,iEADA;AAAA;AAAA,uBAEA,KAAA,CAAA,SAAA,CAAA,SAAA,CAAA,QAAA,CAAA,YAAA,CAAA,CAFA;;AAAA;AAEA,gBAAA,MAFA;AAGA,gBAAA,MAAA,GAAA,MAAA,CAAA,MAAA,CAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,gBAAA,KAAA,CAAA,YAAA,GAAA,MAAA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,KAbA;AAeA,IAAA,aAfA,2BAeA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,iBAAA,EADA;;AAAA;AACA,gBAAA,MADA;AAEA,gBAAA,OAAA,CAAA,GAAA,CAAA,MAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KAlBA;AAoBA,IAAA,WApBA,yBAoBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,UAAA,CAAA,EAAA,EAAA,IAAA,CADA;;AAAA;AACA,gBAAA,MADA;AAEA,gBAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,gBAAA,MAAA,GAAA,MAAA,CAAA,GAAA,CAAA,UAAA,GAAA;AAAA,yBAAA,CAAA,GAAA,CAAA,CAAA,CAAA,CAAA,MAAA,EAAA,EAAA,MAAA,CAAA,GAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAAA,iBAAA,CAAA;AACA,gBAAA,MAAA,CAAA,UAAA,GAAA,MAAA;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAzBA;AA1BA,CAAA","sourcesContent":["<template>\n  <div>\n    <div v-if=\"isAuthenticated\"> You are LoggedIn! {{principal}}\n      <button @click=\"logout\">logout</button>\n    </div>\n    <button @click=\"login\"> Log In </button>\n    <hr className=\"solid\" />\n    <div> <button @click=\"checkAdminBalance\">Check Admin Balance </button>\n      <h3> Admin Balance: {{adminBalance}} </h3>\n    </div>\n    <hr className=\"solid\" />\n    <button @click=\"checkMyBalance\">Check My Balance</button>\n    <h3>My Balance: {{myBalance}} </h3>\n    <hr className=\"solid\" />\n    <div> <button @click=\"collectReward\">Collect Reward for me</button></div>\n    <hr className=\"solid\" />\n  </div>\n</template>\n<script>\n\nimport { Principal } from '@dfinity/principal';\nimport { dip20 } from \"@/utils/dip20\";\n//import { useAuthClient } from \"@/utils/login_hooks\";\n\nexport default {\n  name: 'mywallet',\n  components: {\n  },\n  data () {\n    return {\n      adminBalance: 0,\n      holderInfo: [],\n      myBalance: 0,\n      isAuthenticated: true,\n      principal: \"\"\n    }\n  },\n  async created () {\n    var wallet = useAuthClient();\n    /* \n     authClient,\n      isAuthenticated,\n      login,\n      logout,\n      myactor,\n      principal*/\n    console.log(wallet)\n    //checkAdminBalance\n  },\n\n  methods: {\n    async login () {\n      console.log(\"log in \")\n    },\n    async logout () {\n      console.log(\"log out \")\n    },\n    async checkAdminBalance () {\n      const admin_public = 'maspa-nshp5-q7zc3-4a3ir-7gqgj-pd37f-5dj4h-jnnag-smohf-jn3mh-pqe'\n      var result = await dip20.balanceOf(Principal.fromText(admin_public));\n      result = Number(result)\n      console.log(result);\n      this.adminBalance = result;\n    },\n\n    async collectReward () {\n      var result = await actor.collectReadReward();\n      console.log(result);\n    },\n\n    async checkResult () {\n      var result = await dip20.getHolders(0n, 100n);\n      console.log(result);\n      result = result.map((row) => [row[0].toText(), Number(row[1])])\n      this.holderInfo = result;\n    }\n  }\n}\n</script>\n  "],"sourceRoot":"src/views/mine"}]}